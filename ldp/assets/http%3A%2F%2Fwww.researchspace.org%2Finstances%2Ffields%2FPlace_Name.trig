
<http://www.researchspace.org/instances/fields/Place_Name/context> {
  <http://www.researchspace.org/instances/fields/Place_Name> a <http://www.metaphacts.com/ontology/fields#Field>;
    <http://www.w3.org/2000/01/rdf-schema#label> "Place Name"@en;
    <http://www.metaphacts.com/ontology/fields#insertPattern> _:genid-92b9f7f71a364728a0ea7cf49ac91887-3B516098A76BE17FCE4B7EC78730143E;
    <http://www.metaphacts.com/ontology/fields#selectPattern> _:genid-92b9f7f71a364728a0ea7cf49ac91887-7A8BFE855A4345D7C5F64AB08883BCA5;
    <http://www.metaphacts.com/ontology/fields#xsdDatatype> <http://www.w3.org/2001/XMLSchema#langString>;
    <http://www.metaphacts.com/ontology/fields#deletePattern> _:genid-92b9f7f71a364728a0ea7cf49ac91887-A5B4CC18220DCD5FA3E7B1063E799ABB;
    <http://www.metaphacts.com/ontology/fields#domain> <http://www.cidoc-crm.org/cidoc-crm/E53_Person> .
  
  _:genid-92b9f7f71a364728a0ea7cf49ac91887-3B516098A76BE17FCE4B7EC78730143E a <http://spinrdf.org/sp#Query>;
    <http://spinrdf.org/sp#text> """INSERT { 
 
    $subject a <http://www.cidoc-crm.org/cidoc-crm/E53_Place>.
  ?subject <http://www.cidoc-crm.org/cidoc-crm/P1_is_identified_by> ?name_identifier . 
  ?name_identifier a <http://www.cidoc-crm.org/cidoc-crm/E41_Appellation>.
  ?name_identifier rdfs:label ?name_label. 
  ?name_identifier <http://www.cidoc-crm.org/cidoc-crm/P72_has_language> ?language_iri.
      ?language_iri rdfs:label ?lang.
   ?subject rdfs:label ?value. 
      
}   
WHERE {
      BIND(IRI(CONCAT(STR($subject),\"/appellation/\", MD5(str(?value)))) as ?name_identifier).
      ?language_iri <http://www.cidoc-crm.org/cidoc-crm/P3_has_note> ?lang.
      BIND(lang(?value) as ?lang)
}""" .
  
  _:genid-92b9f7f71a364728a0ea7cf49ac91887-7A8BFE855A4345D7C5F64AB08883BCA5 a <http://spinrdf.org/sp#Query>;
    <http://spinrdf.org/sp#text> """SELECT distinct ?value ?label
WHERE {
  $subject a <http://www.cidoc-crm.org/cidoc-crm/E53_Place>.
  ?subject <http://www.cidoc-crm.org/cidoc-crm/P1_is_identified_by> ?valueu . 
 ?valueu a <http://www.cidoc-crm.org/cidoc-crm/E41_Appellation>.
  ?valueu rdfs:label ?value. 
  ?valueu <http://www.cidoc-crm.org/cidoc-crm/P72_has_language> ?language_iri.
      ?language_iri rdfs:label ?lang.
}""" .
  
  _:genid-92b9f7f71a364728a0ea7cf49ac91887-A5B4CC18220DCD5FA3E7B1063E799ABB a <http://spinrdf.org/sp#Query>;
    <http://spinrdf.org/sp#text> "DELETE { $subject <http://www.cidoc-crm.org/cidoc-crm/P1_is_identified_by>  $value} WHERE {}" .
  
  <http://www.researchspace.org/instances/fields/Place_Name> a <http://www.w3.org/ns/prov#Entity>;
    <http://www.w3.org/ns/prov#wasAttributedTo> <http://www.metaphacts.com/resource/user/admin>;
    <http://www.w3.org/ns/prov#generatedAtTime> "2020-04-02T07:47:54.876Z"^^<http://www.w3.org/2001/XMLSchema#dateTime> .
  
  <http://www.metaphacts.com/ontologies/platform#fieldDefinitionContainer> <http://www.w3.org/ns/ldp#contains>
      <http://www.researchspace.org/instances/fields/Place_Name> .
  
  <http://www.researchspace.org/instances/fields/Place_Name> a <http://www.w3.org/ns/ldp#Resource> .
}
